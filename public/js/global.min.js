Traxsource=function(){this.mainPlaylist=!1,this.volumeInitVal=90,this.playerVisible=!1,this.callScript="/scripts/builder.php",this.handlerScript="/scripts/handler.php",this.cartScript="/scripts/shopcart.php",this.searchScript="/scripts/search.php",this.paypalScript="/scripts/paypal.php",this.scrubPercent=6,this.plVertScrollOffset=400,this.popupKeysMapped=!1,this.currentBitrate=1,this.suggXHR=!1,this.savedDateRange=!1,this.isUnloaded=!1,this.browserVersion=!1,this.browserAccepted=!0,this.isBot=!1,this.isIE9=!1,this.isIE=!1,this.isSafari11plus=!1,this.isPopStateRequest=!1,this.prevScroll=0,this.TLSok=!0,this.TLSMesg="<p><b style='color: #FD3961'>This browser only supports older encryption methods. Starting June 1st, 2018 Traxsource will no longer support older unsafe browsers. Please update or switch your broswer to one supporting  current safe encryption standards. Thank You.</b></p>",this.WAVtrig=!1,this.version=!1,this.forceVersionReload=!0,this.ippCookieTracks="tracksIPP",this.ippCookieTitles="titlesIPP",this.viewPortConfs=[{wi:0,cl:"v1",id:1},{wi:450,cl:"v2",id:2},{wi:635,cl:"v3",id:3},{wi:975,cl:"v4",id:4},{wi:1190,cl:"v5",id:5}],this.viewClass="",this.viewID=0,this.viewIdPrev=0,this.viewChange=!1,this.widthHolder=0,this.isTouch=!!("ontouchstart"in window)||!!("msmaxtouchpoints"in window.navigator),this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|windows ce/i.test(navigator.userAgent),this.isMouse=!1,this.mPlLimit=300,this.dPlLimit=600,this.plLimit=this.isMobile?this.mPlLimit:this.dPlLimit,this.currentPlayTime=!1,this.storedPlayTime=!1,this.localPlDaysTTL=7,this.mobileDummyPlLoaded=!1,this.dummyPlItem=[{title_id:"0",track_id:"0",artist:[["","","",""]],title:"",title_url:"",track_url:"",label:["","","",""],genre:"",genre_url:"",catnumber:"",promo:!1,duration:"",r_date:"",price:{},bought:!1,image:"",thumb:"",mp3:"/js/ts-blank.mp3",waveform:"",bpm:"",keysig:""}],this.useDummyPlay=!1,this.initPlaylist=[],this.popupKeysMapped=!1,this.popupBusy=!1,this.cloader=!1,this.cartList=[],this.cartsPageStats={titles:{},tracks:{}},this.cartsPLStats={},this.defaultCart=-1,this.currCartAltCaller={caller:{},append:!1},this.stateHolders={winSizeShow:!1,firstFreeUpgrade:!0,gridFlyBusy:!1,leftFlyBusy:!1,busyTimeout:!1,cartAddTimeout:!1,keyComTimeout:!1,plLoaderTimeout:!1,userChartLastLocation:!1,currentCartAltItem:{type:"",id:0},dropBoxBtnLock:!1,playlistAddBusy:!1},this.dropBoxOrders={},this.noxd=!1,this.staticHost=this.noxd?"":"https://geo-w-static.traxsource.com",this.scriptsHost=this.noxd?"":"https://w-static.traxsource.com"},Traxsource.prototype={_init:function(){var t=this;history.replaceState&&history.replaceState({url:location.pathname+location.search,trax:!0},"",location.pathname+location.search),window.onpopstate=function(e){null!=e.state&&void 0!==e.state.trax&&(t.isPopStateRequest=!0,t.handleURL(location.pathname+location.search))}},print_r:function(t){this.comlog(JSON.stringify(t,null,4))},comlog:function(t,e){if(0!=$.trim(t).length)if(commandString="error warn info debug table",e&&commandString.indexOf(e)>=0)switch(e){case"error":window.console&&console.error&&console.error(t);break;case"warn":window.console&&console.warn&&console.warn(t);break;case"info":window.console&&console.info&&console.info(t);break;case"debug":window.console&&console.debug&&console.debug(t);break;case"table":window.console&&console.table&&console.table(t)}else window.console&&console.log&&console.log(t)},isValidEmailAddress:function(t){var e=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return e.test(t)},refreshPage:function(){var t=this;t.rpcGet2Body(t.callScript,location.pathname,"#bodyBay",function(){t.checkSizesGlobal(),t.applyViewClasses(),t.revealInitInvis()})},setCookie:function(t,e,i){var o,s=new Date;s.setDate(s.getDate()+i),o=encodeURIComponent(e)+(null==i?"":"; expires="+s.toUTCString()),document.cookie=t+"="+o},getCookie:function(t){var e,i,o,s=0,r=document.cookie.split(";");for(e=r.length;--e;){if(i=r[s].substr(0,r[s].indexOf("=")),o=r[s].substr(r[s].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==t)return decodeURIComponent(o);s++}},ippAppender:function(t){var e,o,s,r,a,n=["/featured","/djtop","/all"],c=!1,l=this;if(e=/(\/list\/|\/just-added|\/label\/|\/dj-top-10s\/(featured|all)|\/preorders\/all)/i.test(t),s=t.indexOf("/artist/")>=0,o=t.indexOf("/genre/")>=0,e||o||s){if(o){for(i=0;i<n.length;i++)t.indexOf(n[i])>=0&&(c=!0);if(!c)return""}if(r=l.getCookie(l.ippCookieTitles),a=l.getCookie(l.ippCookieTracks),r||a)if(t.indexOf("cn=tracks")>=0||s&&-1==t.indexOf("/djtop")){if(a)return(-1==t.indexOf("?")?"?":"&")+"ipp="+a}else if(r)return"?ipp="+r}return""},handleURL:function(t){var e,i,o=!1,s=this;if(e=/.+/i.test(t)?t+(-1!=t.indexOf("?")?-1==t.indexOf("rpc=")?"&rpc=1":"":"?rpc=1"):"/?rpc=1",/search(\?|\/)/i.test(e))e=e.replace("/search",""),i=s.searchScript;else{if(i=s.callScript,e.indexOf("/checkout")>-1){if($("#cartID").length>0?o=$("#cartID").val():history.state.hasOwnProperty("cartID")&&(o=history.state.cartID),!o)return void s.pushPath("/");e+="&cart_id="+o}$("#mainSearch .search-input").length>0&&$("#mainSearch .search-input").val().length>0&&$("#mainSearch .search-input").val("")}s.rpcGet2Body(i,e),"function"==typeof ga&&ga("send","pageview",t)},rpcGet2Body:function(t,e,i,o){var s=this;s.cloader!==!1&&showLoader(),void 0==e&&(e=""),$.ajax({url:t+e,type:"GET",success:function(t){var e;return s.forceVersionReload&&$(t).find("ver").text().length>0&&(s.version||(s.version=$(t).find("ver").text()),s.version!=$(t).find("ver").text()&&location.reload()),s.putPageCartData($(t).find("cpo").text().length>0?$(t).find("cpo").text():"{}"),$(t).find("title").text().length>0&&(document.title=$(t).find("title").text()),e=parseInt($(t).find("code").text()),isNaN(e)||-1!=e?(i||(i="#bodyBay"),$(i).empty().html($(t).find("data").text()),s.isPopStateRequest?(window.scrollTo(0,s.prevScroll),s.prevScroll=0,s.isPopStateRequest=!1):window.scrollTo(0,0),s.highlightMenu(),o&&setTimeout(o,100),s.cloader!==!1&&hideLoader(),void hideCartAlt()):void s.pushPath("/")},error:function(t){404==t.status&&s.pushPath("/")}})},pushPath:function(t,e,i){var o=this;return t?(e||(e={url:t,trax:!0}),e.hasOwnProperty("trax")||(e.trax=!0),i||(i=""),history.pushState(e,i,t),void o.handleURL(t)):!1},putPageCartData:function(t){var e;0!=t.length&&(e=this.getEvalObj(t),e.hasOwnProperty("titles")&&"object"==typeof e.titles&&"[object Array]"!=Object.prototype.toString.call(e.titles)?this.cartsPageStats.titles=e.titles:this.cartsPageStats.titles={},e.hasOwnProperty("tracks")&&"object"==typeof e.tracks&&"[object Array]"!=Object.prototype.toString.call(e.tracks)?this.cartsPageStats.tracks=e.tracks:this.cartsPageStats.tracks={})},getDefaultCart:function(){for(var t=0,e=this.cartList.length;e--;){if("1"==this.cartList[t]["default"]){this.defaultCart=this.cartList[t].cart_id;break}t++}},getCart:function(t){for(var e=0,i=this.cartList.length;i--;){if(this.cartList[e].cart_id==t)return this.cartList[e];e++}},getJson:function(t,e,i,o){void 0!=i&&i||(i="GET"),void 0!=o&&o||(o={}),$.ajax({url:t,type:i,dataType:"json",data:o,success:function(t){e(t)},error:function(t,i,o){var s={data:t,error:i+"<br>"+o+"<br>"+t.responseText};e(s)},completed:function(){hideLoader()}})},detectBrowserVersion:function(){var t=navigator.userAgent.toLowerCase();return $.browser.msie||$.browser.trident?(t=$.browser.version,t=t.substring(0,t.indexOf("."))):$.browser.chrome?(t=t.substring(t.indexOf("chrome/")+7),t=t.substring(0,t.indexOf("."))):$.browser.safari?(t=t.substring(t.indexOf("version/")+8),t=t.substring(0,t.indexOf(" "))):$.browser.mozilla?t=t.substring(t.indexOf("firefox/")+8):$.browser.opera?t=t.substring(t.indexOf("version/")+8):0},verifyBrowser:function(){var t,e=this;return 1==/(bot|linux|preview)/i.test(navigator.userAgent)?void(e.isBot=!0):(e.browserVersion=e.detectBrowserVersion(),t=parseFloat(e.browserVersion),void($.browser.mozilla?(5>t&&(e.browserAccepted=!1),27>t&&(e.TLSok=!1)):$.browser.safari?(5>t&&(e.browserAccepted=!1),7>t&&(e.TLSok=!1),t>=11&&(e.isSafari11plus=!0)):$.browser.chrome?(15>t&&(e.browserAccepted=!1),22>t&&(e.TLSok=!1)):$.browser.opera?(12.18>t&&(e.browserAccepted=!1),12.18>t&&(e.TLSok=!1)):$.browser.msie?(e.isIE=!0,10>t&&(e.browserAccepted=!1),11>t&&(e.TLSok=!1)):$.browser.trident&&(e.isIE=!0)))},startURL:function(){var t=location.pathname;return t.length>2?!1:void(t.length<2&&location.hash.length>2&&(location.pathname=location.hash.replace("#","/").replace("//","/")))},handleClick:function(t){if(!($(t).attr("href").indexOf("void(0)")>=0)){var e,i,o=$(t)[0].pathname,s=this;s.prevScroll=$(window).scrollTop(),hideTitlePopup(),hidePlaylist(),s.hideMessage(),$(t).hasClass("cart-alt")||hideCartAlt(),$(".menu-cont a").removeClass("active-tab"),e=o+$(t)[0].search,e+=s.ippAppender(e),i={url:e,trax:!0},e.indexOf("/checkout")>-1&&$("#cartID").length>0&&(i.cartID=$("#cartID").val()),history.pushState(i,"",e),s.handleURL(e)}},highlightMenu:function(){$(".menu-cont a").removeClass("active-tab"),$("#menuHL").length>0&&$("#"+$("#menuHL").val()).addClass("active-tab")},getEvalObjFromData:function(selector,dataAtrrib){var eo,self=this;dataAtrrib||(dataAtrrib="url");try{eo=eval("("+$(selector).attr("data-"+dataAtrrib)+")")}catch(e){if(e instanceof SyntaxError)return self.comlog("Traxsource ERROR: "+$(selector).attr("data-"+dataAtrrib),"warn"),!1}return eo},getEvalObj:function(inStr){var eo,self=this;try{eo=eval("("+inStr+")")}catch(e){if(e instanceof SyntaxError)return self.comlog("Traxsource ERROR: "+e.message,"warn"),!1}return eo},showByFade:function(t,e,i){e||(e=300),$(t).fadeIn(e,i)},hideByFade:function(t,e,i){e||(e=200),$(t).fadeOut(e,i)},showPall:function(t){$(".com-pall",t).fadeIn(240)},hidePall:function(t){$(".com-pall",t).fadeOut(100)},centerElementToWin:function(t,e,i,o,s){if(e&&"none"==$(t).css("display"))return!1;i=i?i:0,o=o?o:0;var r,a,n,c=this;r=s?$(document).height():$(window).height(),a=$(document).width(),n=r/2-$(t).height()/2+o,!c.isMobile&&98>n&&(n=98),$(t).css("top",n),$(t).css("left",a/2-$(t).width()/2+i)},blink:function(t,e,i,o){e||(e=90),i||(i=15),o||(o=2);var s=0;doBlick=function(t,e,i,o){$(t).animate({opacity:0},i,"linear",function(){$(this).delay(e),$(this).animate({opacity:1},i,function(){s++,o>s&&doBlick(this,e,i,o)}),$(this).delay(e)})},doBlick(t,e,i,o)},showMask:function(t){var e=this;void 0==t&&(t=0),$("#bodyMask").fadeIn(t),setTimeout(function(){e.resizeMask()},100)},hideMask:function(){$("#titlePopup").is(":visible")||$("#bodyMask").removeAttr("style")},resizeMask:function(){var t=$(document).height();$("#bodyMask").css({height:t}),t=$(document).height(),$("#playerMask").css({height:t})},showPlayerMask:function(){var t=this;$("#playerMask").show(),setTimeout(function(){t.resizeMask()},100)},hidePlayerMask:function(){$("#playerMask").hide()},positionBottomBar:function(){var t,e,i=this;t=i.isMobile?window.innerHeight:$(window).height(),e=$("#bottomBarPopup").is(":visible")?t-$("#bottomBarPopup").height():t,$("#bottomBarPopup").css("top",e+"px")},showBottomBar:function(t){var e,i=this;$("#bottomBarBody").empty(),$("#bottomBarBody").html(t),$("#bottomBarBody a").click(function(){return i.handleClick(this),i.hideBottomBar(),!1}),$("#bottomBarBody").is(":visible")?i.blink("#bottomBarBody"):(i.positionBottomBar(),$("#bottomBarPopup").show(),$("#bottomBarPopup").animate({top:"-="+$("#bottomBarPopup").height()},300,"easeInExpo")),e=12,window.timeoutHandle&&window.clearTimeout(timeoutHandle),window.timeoutHandle=setTimeout(function(){i.hideBottomBar()},1e3*e)},hideBottomBar:function(){return $("#bottomBarPopup").is(":visible")?void $("#bottomBarPopup").animate({top:"+="+$("#bottomBarPopup").height()},250,"easeInQuint",function(){$("#bottomBarPopup").hide(),$("#bottomBarBody").empty()}):!1},showMessage:function(t,e){var i={selector:"#messagePopup",askConfirm:!1,yesCallback:null,title:"Are you sure?",showAsError:!1,inputMode:!1,inputMin:!1,inputMax:100,saveBtnText:"Save",hideComDrops:!1,showCartDefault:!1},o=this;i=$.extend(i,e),$(i.selector+" .mspu-txt").html(t),i.title&&i.title.length>0&&$(i.selector+" .mspu-hdr").html(i.title),$(i.selector+" .com-close").click(function(){o.hideMessage(e)}),$(i.selector+" .mspu-cont a").click(function(){return o.handleClick(this),o.hideMessage(e),!1}),i.showAsError&&$(i.selector).addClass("error"),i.askConfirm?($(i.selector+" .mspu-buttons").show(),$(i.selector+" .com-yes").click(function(){setTimeout(i.yesCallback,100),o.hideMessage(e)}),$(i.selector+" .com-no").click(function(){o.hideMessage(e)})):$(i.selector+" .mspu-buttons").hide(),i.inputMode?($(i.selector+" .submit-button").html(i.saveBtnText),$(i.selector+" .mspu-inp-cont").show(),$(i.selector+" .mspu-input").attr("maxlength",i.inputMax),$(i.selector+" .submit-button").click(function(){return $(i.selector+" .mspu-input").val($.trim($(i.selector+" .mspu-input").val())),i.inputMin&&i.inputMin>0&&$(i.selector+" .mspu-input").val().length<i.inputMin?($(i.selector+" .err-txt").html("...at least "+i.inputMin+" char(s) required."),!1):($(i.selector+" .err-txt").html(""),void setTimeout(i.yesCallback,100))})):$(i.selector+" .mspu-inp-cont").hide(),i.showCartDefault?$(i.selector+" .mspu-cart-def-p").show():($(i.selector+" .mspu-cart-def-p").hide(),$(i.selector+" .mspu-cart-def-cb").prop("checked",!1)),o.showMask(),o.centerElementToWin(i.selector),o.showByFade(i.selector,300,function(){i.inputMode&&$(i.selector+" .mspu-input").focus()}),hideLoader()},hideMessage:function(t){var e={selector:"#messagePopup",hideComDrops:!1},i=this;return e=$.extend(e,t),$(e.selector).is(":visible")?($(e.selector+" .mspu-buttons a").unbind(),$(e.selector+" .mspu-inp-cont a").unbind(),$(e.selector+" .com-close").unbind(),i.hideByFade(e.selector,300,function(){$(e.selector+" .mspu-txt").html(""),$(e.selector+" .mspu-input").val(""),$(e.selector+" .mspu-input").attr("maxlength","100"),$(e.selector+" .mspu-hdr").html("Are You Sure?"),$(this).hasClass("error")&&$(this).removeClass("error")}),e.hideComDrops&&$(".com-drop-menu").removeAttr("style"),void i.hideMask()):!1},checkSizesGlobal:function(){var t,e,i=0,o=this;for(t=o.viewPortConfs.length,e=$(window).width();t--&&e>=o.viewPortConfs[i].wi;)o.viewClass=o.viewPortConfs[i].cl,o.viewID=o.viewPortConfs[i].id,i++;o.viewID!=o.viewIdPrev?($(document).trigger("viewChange",[{viewID:o.viewID,viewClass:o.viewClass}]),o.viewIdPrev=o.viewID,o.viewChange=!0,o.applyViewClasses()):o.viewChange=!1},applyViewClasses:function(t){var e=this;void 0===t?t="":t+=" ",$(t+".v-").removeClass("v1 v2 v3 v4 v5"),$(t+".v-").addClass(e.viewClass)},revealInitInvis:function(){$(".trklist").removeClass("init-invis"),$(".com-grid").removeClass("init-invis")},winSize:function(){}};